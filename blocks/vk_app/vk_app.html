{{>headline headline}}

<div style="display:none">
  {{#each items}}
    {{#if background}}
      <img src="{{background}}">
    {{/if}}
  {{/each}}
</div>

<div class="loader"></div>

{{#with splash}}
  <div class="project__splash" style="{{>object-style this}}">
    {{#each items}}
      {{set this inSplash=true}}
      <div class="project__object" style="{{>object-style this}}"></div>
    {{/each}}

    <div class="project__splash__scroll js-scroll"></div>
  </div>
{{/with}}

<div class="project__objects{{#if splash}} project__objects_beyond-splash{{/if}}">
  <style>
    {{#each items}}
      {{#if name}}
        @media all and (max-width: {{calc width '240px'}}) {
          .project__object_{{name}} {
            width: 100% !important;
            background-size: contain !important;
          }
        }
      {{/if}}
    {{/each}}
  </style>

  {{#each items}}
    {{#if video}}
      <div class="project__object" style="{{>object-style this}}">
        {{#if video.overlay}}
          <div class="project__object__overlay" style="{{>object-style video.overlay}}"></div>
        {{/if}}

        <video
          src="{{video.src}}"
          loop="yes"
          autoplay="yes"
          preload="auto"
          muted="yes"
          style="{{>object-style video}}"
        ></video>
      </div>
    {{/if}}

    {{#if stripe}}
      <div class="project__stripe" style="{{>object-style stripe}}">
        {{set this inStripe=true}}
        <div class="project__object" style="{{>object-style this}}"></div>
      </div>
    {{/if}}

    {{#if link}}
      <a href="{{link.href}}" target="_blank" class="project__link" style="{{>object-style this}}">
        {{link.title}}
      </a>
    {{/if}}

    {{#unless stripe}}
    {{#unless link}}
      <div class="project__object{{#if name}} project__object_{{name}}{{/if}}" style="{{>object-style this}}"></div>
    {{/unless}}
    {{/unless}}

  {{/each}}
</div>
