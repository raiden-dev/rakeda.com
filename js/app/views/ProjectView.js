define(["views/AbstractView","templates/project","backbone"],function(a,b){var c=a.extend({el:"#main",template:b,getTemplateData:function(a){var b=new $.Deferred;return require(["templates/"+a.name],function(a){Handlebars.partials.projectName=a,b.resolve()}.bind(this)),b.promise()},onAfterRender:function(){var a=this.$el.find(".project__splash"),b=this.$el.find(".project__objects"),c=this.$el.find(".loader");a.hide(),b.hide(),c.show();var d=this.$el.find("img"),e=d.length,f=0,g=new $.Deferred,h=this.$el.find("video"),i=h.length,j=0,k=new $.Deferred;h.length?h.on("loadeddata",function(){j++,j===i&&k.resolve()}):k.resolve(),d.length?d.on("load",function(){f++,f===e&&g.resolve()}):g.resolve(),$.when(g,k).done(function(){c.hide(),a.show(),b.show()}),$(window).off("scroll").on("scroll",function(){var a=this.$el.find(".js-scroll"),b=$(window).height(),c=b-a.offset().top-a.height(),d=1-$(window).scrollTop()/(b-c);d>=0&&a.css("opacity",d)}.bind(this)),this.$el.find(".js-scroll").off("click").on("click",function(){$("html, body").animate({scrollTop:$(window).height()},500)})}});return c});
//# sourceMappingURL=ProjectView.map